<!-- AUTO-GENERATED BY CERBER â€” DO NOT EDIT -->

# Cerber Gates & Test Organization

Generated from: `.cerber/contract.yml` (2.0.0)

## CI Gates

### Fast Gate (PR Required)

**Description:** Fast gates for PR validation (< 5 min)
**Timeout:** 300s

**Commands:**
- `npm ci`
- `npm run build`
- `npm run lint`
- `npm run test:fast`

**Test Filters:**
- `@fast`

**Excluded Tests:**
- `**/cli-signals.test.ts`
- `**/npm-pack-install.test.ts`
- `**/e2e/**`

### Heavy Gate (Main/Nightly)

**Description:** Heavy gates for main branch and nightly runs
**Timeout:** 1800s

**Jobs:**
- `integration_tests`: Real git ops, file discovery, adapters
- `e2e_tests`: npm-pack, install-from-tarball, multi-mode
- `signals_tests`: Process signal handling

**Test Tags:**
- `@integration`
- `@e2e`
- `@signals`

## Test Tags Organization

### @fast
**Fast Unit Tests**
Unit tests, deterministic, <1s each

- Command: `npm run test:fast`
- Timeout: 1000ms
- Max Retries: 0

### @integration
**Integration Tests**
Real git ops, file discovery, real adapters

- Command: `npm run test:integration`
- Timeout: 5000ms
- Max Retries: 0

### @e2e
**End-to-End Tests**
npm-pack, install-from-tarball, multi-mode

- Command: `npm run test:e2e`
- Timeout: 30000ms
- Max Retries: 1

### @signals
**Signal Handling Tests**
Process signal handling (SIGINT, SIGTERM)

- Command: `npm run test:signals`
- Timeout: 10000ms
- Max Retries: 1

## Protected Files

### Auto-Generated (Do Not Edit)
- `CERBER.md` (source: `.cerber/contract.yml`)
- `.github/workflows/cerber-pr-fast.yml` (source: `.cerber/contract.yml`)
- `.github/workflows/cerber-main-heavy.yml` (source: `.cerber/contract.yml`)
- `.github/CODEOWNERS` (source: `.cerber/contract.yml`)

### Manual Edits OK
- `.cerber/contract.yml` - Source of truth - edit directly
- `src/cli/generator.ts` - CLI command for generation
- `src/cli/drift-checker.ts` - CLI command for drift detection
- `src/cli/guardian.ts` - Pre-commit guardian
- `src/cli/doctor.ts` - Health check command

## Available Commands

```bash
npm run test:fast          # Fast unit tests only (@fast)
npm run test:integration   # Integration tests (@integration)
npm run test:e2e           # End-to-end tests (@e2e)
npm run test:signals       # Signal handling tests (@signals)
npm run cerber:generate    # Regenerate this file from contract
npm run cerber:drift       # Check for drift vs contract
```

## Workflows

- **`.github/workflows/cerber-pr-fast.yml`**: PR validation (fast checks)
- **`.github/workflows/cerber-main-heavy.yml`**: Main/nightly (all checks)

---

To regenerate this file: `npm run cerber:generate`